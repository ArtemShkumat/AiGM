EXAMPLE 1: Player enters a location

USER: 
 ...
 "player": {
        "type": "PLAYER",
        "currentLocationId": "loc_mainStreet"
      }
  "connectedLocations":
  [ ...
    "loc_rustyAnchorTavern"{
      ...
      "npcs": [
      {
        "id": "npc_redBeardedBarkeep",
        "currentLocationId": "loc_rustyAnchorTavern",
        "visibleToPlayer": false,
        "knownToPlayer": false,
        "knowsPlayer": false
      },
      {
        "id": "npc_hoodedFigure",
        "currentLocationId": "loc_rustyAnchorTavern",
        "visibleToPlayer": false,
        "knownToPlayer": false,
        "knowsPlayer": false
      }
  ]
      ...
    }
    ...]
  "npcs": [
    {
      "id": "npc_johnTheBaptist",
      "currentLocationId": "loc_mainStreet",
      "visibleToPlayer": true
    }
  ]

I walk into the tavern and look around.

ASSISTANT:
You leave John The Baptist behind. The Rusty Anchor tavern welcomes you with a blast of warm air and the rich aroma of spiced mead. A crackling hearth dominates the far wall, casting dancing shadows across the weathered wooden tables. Several patrons huddle in small groups - sailors sharing tall tales, a pair of merchants haggling over a contract, and a hooded figure sitting alone in the corner, occasionally glancing toward the door.

Behind the bar, a burly man with an impressive red beard polishes a mug with a rag that's seen better days. He notices your entrance and offers a curt nod of acknowledgment. Must be a professional habit, as you've never met him before, or anyone here, for that matter.

<donotshow/>
{
    "newEntities": [],
    "partialUpdates": {
      "player": {
        "type": "PLAYER",
        "currentLocationId": "loc_rustyAnchorTavern"
      },
      "npc_johnTheBaptist": {
        "type": "NPC",
        "visibleToPlayer": false
      },
      "npc_redBeardedBarkeep": {
        "type": "NPC",
        "visibleToPlayer": true
      },
      "npc_hoodedFigure": {
        "type": "NPC",
        "visibleToPlayer": true
      }
    }
}


EXAMPLE 2: Player looks around, seeking new NPCs in a busy street.

USER: I look around to see if there's anyone else out and about at this time of the day.

ASSISTANT:
"As you look around the village, you notice a few other villagers going about their business. A pair of children play a simple game of tag near the well, their laughter a momentary spark of joy in the somber atmosphere. An older woman sweeps the stoop of her home, her brow furrowed with worry as she glances toward the mountains. You can also see a few weathered-looking miners trudging back from work. They carry heavy sacks slung over their shoulders and their faces are grim."

<donotshow/>
{
    "newEntities": [],
    "partialUpdates": []
  
}

EXAMPLE 3: Player engages an NPC not present in existing NPC list.

USER: I approach the old woman I see on the street and introduce myself.

ASSISTANT:
"The older woman looks up at you, her gaze softening slightly. "Elara," she says, her voice raspy but kind. "And you are... new to Emberhold, aren't you? I don't recognize your face." She pauses, then adds with a sigh, "A good day it might have been, before..." She trails off, gesturing vaguely towards the Empty Hearth with her broom. The sounds of the village - the children's laughter, the distant clang of the forge - seem muted, overshadowed by the unspoken dread hanging in the air."

<donotshow/>
{
    "newEntities": [
    {
    "type": "NPC",
    "name" "Elara",
    "id": "npc_elara",
    "currentLocation": "loc_emberhold",
    "context": "The player approached a random old lady on the street of village Emberhold. So far he learned that her name is Elara, she appears old, with raspy but kind voice. So far she said she introduced herself and asked if the player is new to Emberhold..."    
    }
    ],
    "partialUpdates": []
  
}

EXAMPLE 4: Player meets an NPC and they introduce themselves to each other

USER:
...
"player": {
  "type": "PLAYER",
  "name": "Alaric",
  "currentLocationId": "loc_marketSquare"
},
"npcs": [
  {
    "id": "npc_merchantTomas",
    "name": "Tomas",
    "currentLocationId": "loc_marketSquare",
    "visibleToPlayer": true,
    "knownToPlayer": false,
    "knowsPlayer": false
  }
]

I approach the merchant at his stall. "Good day! I'm Alaric, new to these parts. What's your name?"

ASSISTANT:
The merchant looks up from arranging a display of colorful fabrics. He's a middle-aged man with salt-and-pepper hair and weathered hands that speak of years of work. His initially cautious expression softens at your friendly approach.

"Well met, Alaric," he replies with a slight bow of his head. "I am Tomas, purveyor of the finest textiles from across the realm. New to our humble town, you say? What brings you to these parts?" He gestures at his wares with a merchant's practiced flourish. "Perhaps something caught your eye? Or are you simply getting acquainted with the local establishments?"

<donotshow/>
{
    "newEntities": [],
    "partialUpdates": {
      "npc_merchantTomas": {
        "type": "NPC",
        "knownToPlayer": true,
        "knowsPlayer": true
      }
    }
}

EXAMPLE 5: Player discovers a new location with connections to existing NPCs and potential quests

USER:
...
"player": {
  "type": "PLAYER",
  "name": "Alaric",
  "currentLocationId": "loc_marketSquare"
},
"npcs": [
  {
    "id": "npc_merchantTomas",
    "name": "Tomas",
    "currentLocationId": "loc_marketSquare",
    "visibleToPlayer": true,
    "knownToPlayer": true,
    "knowsPlayer": true
  }
]

I ask Tomas, "I've heard rumors of an abandoned mine north of town that might have valuable ore deposits. Do you know anything about it?"

ASSISTANT:
Tomas scratches his chin thoughtfully, leaning against his stall. "The old Whispering Depths? Aye, I know of it. Closed down nearly fifteen years ago after a collapse trapped a dozen miners inside." He lowers his voice, glancing around as if checking who might be listening.

"Most folks avoid it now. Some say they hear voices echoing from within at nightâ€”the trapped miners, still calling for help." He shivers visibly. "My sister's husband, Gareth, was the mine's foreman before the accident. He survived but was never the same after. Lives in a cottage at the edge of town now, rarely speaks to anyone."

Tomas straightens up and adjusts his wares. "If you're thinking of exploring it, I'd advise caution. Though I suppose if anyone could safely investigate and perhaps put some old ghosts to rest, it might be someone of your... capabilities."

<donotshow/>
{
    "newEntities": [
      {
        "type": "QUEST", 
        "name": "Echoes of the Depths",
        "id": "quest_echoesOfTheDepths",
        "context": "This is a multi-part quest centered around exploring the abandoned Whispering Depths Mine (loc_whisperingDepthsMine) and uncovering its secrets. The quest would begin when the player speaks with npc_gareth (quest giver) and learns more about the mine's history. The quest should feel somewhat dangerous and mysterious, dealing with themes of grief, guilt, and possibly supernatural elements related to the miners who died in the collapse. It could involve gathering equipment for the exploration, mapping the dangerous mine tunnels, discovering what really caused the collapse, and potentially dealing with either real ghosts or a more mundane explanation for the voices heard in the mine. This quest would be moderately challenging, requiring both combat skills and diplomatic abilities to complete successfully."
      }
    ],
    "partialUpdates": {}
}

